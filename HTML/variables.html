<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Introduction to Variables and Parameters</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Advanced Bash-Scripting Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Basics"
HREF="part2.html"><LINK
REL="PREVIOUS"
TITLE="Special Characters"
HREF="special-chars.html"><LINK
REL="NEXT"
TITLE="Variable Assignment"
HREF="varassignment.html"><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"><LINK
REL="stylesheet"
HREF="common/kde-common.css"
TYPE="text/css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"><META
HTTP-EQUIV="Content-Language"
CONTENT="en"><LINK
REL="stylesheet"
HREF="common/kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"><LINK
REL="stylesheet"
HREF="common/kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#AA0000"
VLINK="#AA0055"
ALINK="#AA0000"
STYLE="font-family: sans-serif;"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Advanced Bash-Scripting Guide: An in-depth exploration of the art of shell scripting</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="special-chars.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="varassignment.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="VARIABLES"
></A
>Chapter 4. Introduction to Variables and Parameters</H1
><P
><I
CLASS="FIRSTTERM"
>Variables</I
> are how programming and
	scripting languages represent data. A variable is nothing
	more than a <I
CLASS="FIRSTTERM"
>label</I
>, a name assigned to a
	location or set of locations in computer memory holding an item
	of data.</P
><P
>Variables appear in arithmetic operations and manipulation of
	quantities, and in string parsing.</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="VARSUBN"
></A
>4.1. Variable Substitution</H1
><P
>The <I
CLASS="FIRSTTERM"
>name</I
> of a variable is a placeholder
	for its <I
CLASS="FIRSTTERM"
>value</I
>, the data it holds.
	Referencing (retrieving) its value is called
	<I
CLASS="FIRSTTERM"
>variable substitution</I
>.</P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="TOKEN"
>$</SPAN
></DT
><DD
><P
><A
NAME="VARNAMEVAL"
></A
></P
><P
>Let us carefully distinguish between the
		<I
CLASS="FIRSTTERM"
>name</I
> of a variable
		and its <I
CLASS="FIRSTTERM"
>value</I
>. If
		<TT
CLASS="USERINPUT"
><B
>variable1</B
></TT
> is the name of a
		variable, then <TT
CLASS="USERINPUT"
><B
>$variable1</B
></TT
>
		is a reference to its <I
CLASS="FIRSTTERM"
>value</I
>,
		the data item it contains.
		
		  <A
NAME="AEN2255"
HREF="#FTN.AEN2255"
>[1]</A
>


		</P
><P
>	      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>variable1=23</B
></TT
>
 
 
 <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>echo variable1</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>variable1</TT
>
 
 <TT
CLASS="PROMPT"
>bash$ </TT
><TT
CLASS="USERINPUT"
><B
>echo $variable1</B
></TT
>
 <TT
CLASS="COMPUTEROUTPUT"
>23</TT
></PRE
></TD
></TR
></TABLE
>	      
	      </P
><P
>The only times a variable appears <SPAN
CLASS="QUOTE"
>"naked"</SPAN
>
		-- without the <SPAN
CLASS="TOKEN"
>$</SPAN
> prefix	-- is when
		declared or assigned, when <I
CLASS="FIRSTTERM"
>unset</I
>,
		when <A
HREF="internal.html#EXPORTREF"
>exported</A
>,
		in an arithmetic expression within <A
HREF="dblparens.html"
>double parentheses 
                (( ... ))</A
>, or in the special case of a variable
                representing a <A
HREF="debugging.html#SIGNALD"
>signal</A
>
                (see <A
HREF="debugging.html#EX76"
>Example 32-5</A
>). Assignment may be with an
                <SPAN
CLASS="TOKEN"
>=</SPAN
> (as in <TT
CLASS="PARAMETER"
><I
>var1=27</I
></TT
>),
                in a <A
HREF="internal.html#READREF"
>read</A
> statement,
                and at the head of a loop (<TT
CLASS="PARAMETER"
><I
>for var2 in 1
                2 3</I
></TT
>).</P
><P
><A
NAME="DBLQUO"
></A
>Enclosing a referenced value in
	      <I
CLASS="FIRSTTERM"
>double quotes</I
> (<SPAN
CLASS="TOKEN"
>" ... "</SPAN
>)
	      does not interfere with variable substitution. This is
	      called <I
CLASS="FIRSTTERM"
>partial quoting</I
>, sometimes
	      referred to as <SPAN
CLASS="QUOTE"
>"weak quoting."</SPAN
> <A
NAME="SNGLQUO"
></A
>Using single quotes (<SPAN
CLASS="TOKEN"
>' ... '</SPAN
>)
	      causes the variable name to be used literally, and no
	      substitution will take place. This is <I
CLASS="FIRSTTERM"
>full
	      quoting</I
>, sometimes referred to as 'strong
	      quoting.' See <A
HREF="quoting.html"
>Chapter 5</A
> for a
	      detailed discussion.</P
><P
>Note that <TT
CLASS="USERINPUT"
><B
>$variable</B
></TT
> is actually a
	      simplified form of
	      <TT
CLASS="USERINPUT"
><B
>${variable}</B
></TT
>. In contexts
	      where the <TT
CLASS="USERINPUT"
><B
>$variable</B
></TT
> syntax
	      causes an error, the longer form may work (see <A
HREF="parameter-substitution.html"
>Section 10.2</A
>, below).</P
><P
><A
NAME="VARUNSETTING"
></A
></P
><DIV
CLASS="EXAMPLE"
><HR><A
NAME="EX9"
></A
><P
><B
>Example 4-1. Variable assignment and substitution</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;#!/bin/bash
   2&nbsp;# ex9.sh
   3&nbsp;
   4&nbsp;# Variables: assignment and substitution
   5&nbsp;
   6&nbsp;a=375
   7&nbsp;hello=$a
   8&nbsp;#   ^ ^
   9&nbsp;
  10&nbsp;#-------------------------------------------------------------------------
  11&nbsp;# No space permitted on either side of = sign when initializing variables.
  12&nbsp;# What happens if there is a space?
  13&nbsp;
  14&nbsp;#  "VARIABLE =value"
  15&nbsp;#           ^
  16&nbsp;#% Script tries to run "VARIABLE" command with one argument, "=value".
  17&nbsp;
  18&nbsp;#  "VARIABLE= value"
  19&nbsp;#            ^
  20&nbsp;#% Script tries to run "value" command with
  21&nbsp;#+ the environmental variable "VARIABLE" set to "".
  22&nbsp;#-------------------------------------------------------------------------
  23&nbsp;
  24&nbsp;
  25&nbsp;echo hello    # hello
  26&nbsp;# Not a variable reference, just the string "hello" ...
  27&nbsp;
  28&nbsp;echo $hello   # 375
  29&nbsp;#    ^          This *is* a variable reference.
  30&nbsp;echo ${hello} # 375
  31&nbsp;#               Likewise a variable reference, as above.
  32&nbsp;
  33&nbsp;# Quoting . . .
  34&nbsp;echo "$hello"    # 375
  35&nbsp;echo "${hello}"  # 375
  36&nbsp;
  37&nbsp;echo
  38&nbsp;
  39&nbsp;hello="A B  C   D"
  40&nbsp;echo $hello   # A B C D
  41&nbsp;echo "$hello" # A B  C   D
  42&nbsp;# As we see, echo $hello   and   echo "$hello"   give different results.
  43&nbsp;# =======================================
  44&nbsp;# Quoting a variable preserves whitespace.
  45&nbsp;# =======================================
  46&nbsp;
  47&nbsp;echo
  48&nbsp;
  49&nbsp;echo '$hello'  # $hello
  50&nbsp;#    ^      ^
  51&nbsp;#  Variable referencing disabled (escaped) by single quotes,
  52&nbsp;#+ which causes the "$" to be interpreted literally.
  53&nbsp;
  54&nbsp;# Notice the effect of different types of quoting.
  55&nbsp;
  56&nbsp;
  57&nbsp;hello=    # Setting it to a null value.
  58&nbsp;echo "\$hello (null value) = $hello"      # $hello (null value) =
  59&nbsp;#  Note that setting a variable to a null value is not the same as
  60&nbsp;#+ unsetting it, although the end result is the same (see below).
  61&nbsp;
  62&nbsp;# --------------------------------------------------------------
  63&nbsp;
  64&nbsp;#  It is permissible to set multiple variables on the same line,
  65&nbsp;#+ if separated by white space.
  66&nbsp;#  Caution, this may reduce legibility, and may not be portable.
  67&nbsp;
  68&nbsp;var1=21  var2=22  var3=$V3
  69&nbsp;echo
  70&nbsp;echo "var1=$var1   var2=$var2   var3=$var3"
  71&nbsp;
  72&nbsp;# May cause problems with legacy versions of "sh" . . .
  73&nbsp;
  74&nbsp;# --------------------------------------------------------------
  75&nbsp;
  76&nbsp;echo; echo
  77&nbsp;
  78&nbsp;numbers="one two three"
  79&nbsp;#           ^   ^
  80&nbsp;other_numbers="1 2 3"
  81&nbsp;#               ^ ^
  82&nbsp;#  If there is whitespace embedded within a variable,
  83&nbsp;#+ then quotes are necessary.
  84&nbsp;#  other_numbers=1 2 3                  # Gives an error message.
  85&nbsp;echo "numbers = $numbers"
  86&nbsp;echo "other_numbers = $other_numbers"   # other_numbers = 1 2 3
  87&nbsp;#  Escaping the whitespace also works.
  88&nbsp;mixed_bag=2\ ---\ Whatever
  89&nbsp;#           ^    ^ Space after escape (\).
  90&nbsp;
  91&nbsp;echo "$mixed_bag"         # 2 --- Whatever
  92&nbsp;
  93&nbsp;echo; echo
  94&nbsp;
  95&nbsp;echo "uninitialized_variable = $uninitialized_variable"
  96&nbsp;# Uninitialized variable has null value (no value at all!).
  97&nbsp;uninitialized_variable=   #  Declaring, but not initializing it --
  98&nbsp;                          #+ same as setting it to a null value, as above.
  99&nbsp;echo "uninitialized_variable = $uninitialized_variable"
 100&nbsp;                          # It still has a null value.
 101&nbsp;
 102&nbsp;uninitialized_variable=23       # Set it.
 103&nbsp;unset uninitialized_variable    # Unset it.
 104&nbsp;echo "uninitialized_variable = $uninitialized_variable"
 105&nbsp;                                # uninitialized_variable =
 106&nbsp;                                # It still has a null value.
 107&nbsp;echo
 108&nbsp;
 109&nbsp;exit 0</PRE
></TD
></TR
></TABLE
><HR></DIV
><DIV
CLASS="CAUTION"
><TABLE
CLASS="CAUTION"
WIDTH="90%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="common/caution.png"
HSPACE="5"
ALT="Caution"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><A
NAME="UNINITVAR1"
></A
></P
><P
>An uninitialized variable has a
	      <SPAN
CLASS="QUOTE"
>"null"</SPAN
> value -- no assigned value at all
	      (<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>not</I
></SPAN
> zero!).

              <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;if [ -z "$unassigned" ]
   2&nbsp;then
   3&nbsp;  echo "\$unassigned is NULL."
   4&nbsp;fi     # $unassigned is NULL.</PRE
></TD
></TR
></TABLE
></P
><P
>Using a variable before
	      assigning a value to it may cause problems.
	      It is nevertheless possible to perform arithmetic operations
	      on an uninitialized variable.

	        <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   1&nbsp;echo "$uninitialized"                                # (blank line)
   2&nbsp;let "uninitialized += 5"                             # Add 5 to it.
   3&nbsp;echo "$uninitialized"                                # 5
   4&nbsp;
   5&nbsp;#  Conclusion:
   6&nbsp;#  An uninitialized variable has no value,
   7&nbsp;#+ however it evaluates as 0 in an arithmetic operation.</PRE
></TD
></TR
></TABLE
>

              See also <A
HREF="internal.html#SELFSOURCE"
>Example 15-23</A
>.</P
></TD
></TR
></TABLE
></DIV
></DD
></DL
></DIV
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN2255"
HREF="variables.html#AEN2255"
>[1]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
><A
NAME="LVALUEREF"
></A
>Technically, the
		      <I
CLASS="FIRSTTERM"
>name</I
> of a variable is called an
		      <I
CLASS="FIRSTTERM"
>lvalue</I
>, meaning that it appears
		      on the <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>left</I
></SPAN
> side of an assignment
		      statment, as in <TT
CLASS="USERINPUT"
><B
>VARIABLE=23</B
></TT
>.
		      A variable's <I
CLASS="FIRSTTERM"
>value</I
> is
		      an <I
CLASS="FIRSTTERM"
>rvalue</I
>, meaning that
		      it appears on the <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>right</I
></SPAN
>
		      side of an assignment statement, as in
		      <TT
CLASS="USERINPUT"
><B
>VAR2=$VARIABLE</B
></TT
>.</P
><P
><A
NAME="POINTERREF"
></A
>A variable's
		      <I
CLASS="FIRSTTERM"
>name</I
> is, in fact,
		      a <I
CLASS="FIRSTTERM"
>reference</I
>, a
		      <I
CLASS="FIRSTTERM"
>pointer</I
> to the memory
		      location(s) where the actual data associated with
		      that variable is kept.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="special-chars.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="varassignment.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Special Characters</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="part2.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Variable Assignment</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>